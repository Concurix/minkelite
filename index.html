<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Minkelite by strongloop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Minkelite</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/strongloop/minkelite" class="btn">View on GitHub</a>
      <a href="https://github.com/strongloop/minkelite/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/strongloop/minkelite/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="minkelite" class="anchor" href="#minkelite" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>minkelite</h1>

<p>The Database and Statistical Model for Time-series Data Analytics</p>

<h1>
<a id="http-api" class="anchor" href="#http-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>HTTP API</h1>

<h2>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PARAMETERS</h2>

<ul>
<li>
<code>act</code> : account key specified by the user in the config option set at init time of
tracer such as "wfp:helloworld".  It is used in the URL when the user goes to
the dashboard like: http://localhost:8103/dash/wfp:helloworld</li>
<li>
<code>host</code> : host name such as Demo.local in
http://localhost:8103/dash/wfp:helloworld/Demo.local/9366</li>
<li>
<code>pid</code> : process ID such as 9366 in
http://localhost:8103/dash/wfp:helloworld/Demo.local/9366</li>
<li>
<code>pfkey</code> : profile key which is unique identifier of trace file.  Trace file is
self contained and generated one per arechiveInterval per host per process.
See the example /get_raw_pieces below.</li>
<li>
<code>version</code> : (for post_raw_pieces only) Tracer version string such as 1.2.12 
three numbers separated by a period.</li>
</ul>

<h2>
<a id="commands" class="anchor" href="#commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>COMMANDS</h2>

<h3>
<a id="get_host_pid_listact" class="anchor" href="#get_host_pid_listact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>/get_host_pid_list/:act</code>
</h3>

<p><strong>usage</strong>: create the pulldown menu of HOST and PID shown at top right corner of
    the dashboard.  Returns a list of all host names and pids per host for
    the specific act</p>

<p><strong>arguments</strong>: act</p>

<p><strong>example</strong>: http://localhost:8103/get_host_pid_list/wfp:helloworld</p>

<h3>
<a id="get_meta_transactionsacthostpid" class="anchor" href="#get_meta_transactionsacthostpid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>/get_meta_transactions/:act/:host/:pid</code>
</h3>

<p><strong>usage</strong>: get a list of all transactions for specific act, host, pid  It is used
    when the dashboard first displays the transaction history.  The input</p>

<p><strong>arguments</strong>: act, host, and pid are returned by get_host_pid_list</p>

<p><strong>example</strong>: http://localhost:8103/get_meta_transactions/wfp:helloworld/
    Demo.local/3603</p>

<h3>
<a id="get_transactionacttransactionhostpid" class="anchor" href="#get_transactionacttransactionhostpid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>/get_transaction/:act/:transaction/:host/:pid</code>
</h3>

<p><strong>usage</strong>: get a series of data and pfkey for the specific transaction,act,host,pid</p>

<p><strong>example</strong>: http://localhost:8103/get_transaction/wfp:helloworld/
    serve%20GET%20%2Fghost/Demo.local/3603</p>

<h3>
<a id="get_raw_memory_piecesacthostpid" class="anchor" href="#get_raw_memory_piecesacthostpid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>/get_raw_memory_pieces/:act/:host/:pid</code>
</h3>

<p><strong>usage</strong>: get a series of process heap total, heap used, rss, loadaverage, uptime
    and pfkey for the specific act, host, pid  Used to draw the first two line
    charts</p>

<p><strong>example</strong>: http://localhost:8103/get_raw_memory_pieces/wfp:helloworld/
    Demo.local/3603</p>

<h3>
<a id="get_raw_piecespfkey" class="anchor" href="#get_raw_piecespfkey" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>/get_raw_pieces/:pfkey</code>
</h3>

<p><strong>usage</strong>: retrieve the trace file of specific host and pid at specific time  Used
    to draw flame graph and waterfall views</p>

<p><strong>example</strong>: http://localhosts:8103/get_raw_pieces/
    f7e15f59f8c3d22115685dd90f56446a%7Cdb0fe07ce9c69159abccf7d79deb2c13</p>

<h3>
<a id="post_raw_piecesversion" class="anchor" href="#post_raw_piecesversion" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>/post_raw_pieces/:version</code>
</h3>

<p><strong>usage</strong>: post gzipped trace JSON file to minkelite request.body should be the
    gzipped trace</p>

<p><strong>example</strong>: <a href="http://cxlite.concurix.com:8103/post_raw_pieces/1.1.12">http://cxlite.concurix.com:8103/post_raw_pieces/1.1.12</a></p>

<h1>
<a id="js-api" class="anchor" href="#js-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JS API</h1>

<h3>
<a id="mlgethostpidlistact-callback" class="anchor" href="#mlgethostpidlistact-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.getHostPidList(act, callback)</h3>

<p>Gets a list of hosts and process IDs of the account</p>

<ul>
<li>
<code>act</code> {String} same as HTTP API parameter: act</li>
<li>
<code>callback</code> {Function} Calleld with an object</li>
</ul>

<h3>
<a id="mlgetmetatransactionsact-host-pid-callback" class="anchor" href="#mlgetmetatransactionsact-host-pid-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.getMetaTransactions(act, host, pid, callback)</h3>

<p>Gets data to visualize the list of transactions on the transaction</p>

<ul>
<li>
<code>act</code> {String} same as HTTP API parameter: act</li>
<li>
<code>host</code> {String} same as HTTP API parameter: host</li>
<li>
<code>pid</code> {Integer} same as HTTP API parameter: pid</li>
<li>
<code>callback</code> {Function} Called with an object and a callback function which must
be called with the returned object for cleanup</li>
</ul>

<h3>
<a id="mlgettransactionact-tran-host-pid-callback" class="anchor" href="#mlgettransactionact-tran-host-pid-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.getTransaction(act, tran, host, pid, callback)</h3>

<p>Returns data to visualize the historical chart of the specific
    transaction</p>

<ul>
<li>
<code>act</code> {String} same as HTTP API parameter: act</li>
<li>
<code>tran</code> {String} typically one of the transactions acquired by getMetaTransactions</li>
<li>
<code>host</code> {String} same as HTTP API parameter: host</li>
<li>
<code>pid</code> {Integer} same as HTTP API parameter: pid</li>
<li>
<code>callback</code> {Function} Called with an object</li>
</ul>

<h3>
<a id="mlgetrawmemorypiecesact-host-pid-callback" class="anchor" href="#mlgetrawmemorypiecesact-host-pid-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.getRawMemoryPieces(act, host, pid, callback)</h3>

<p>Gets data to visualize the timeline view on the dashboard</p>

<ul>
<li>
<code>act</code> {String} same as HTTP API parameter: act</li>
<li>
<code>host</code> {String} same as HTTP API parameter: host</li>
<li>
<code>pid</code> {Integer} same as HTTP API parameter: pid</li>
<li>
<code>callback</code> {Function} Called with an object</li>
</ul>

<h3>
<a id="mlgetrawpiecespfkey-uncompress-callback" class="anchor" href="#mlgetrawpiecespfkey-uncompress-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.getRawPieces(pfkey, uncompress, callback)</h3>

<p>Gets a trace file JSON as a string</p>

<ul>
<li>
<code>pfkey</code> {String}</li>
<li>
<code>uncompress</code> {Boolean} true if client wants</li>
<li>
<code>callback</code> {Function} Calleld with string of trace JSON</li>
</ul>

<h3>
<a id="mlpostrawpiecesversion-act-trace-callback" class="anchor" href="#mlpostrawpiecesversion-act-trace-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.postRawPieces(version, act, trace, callback)</h3>

<p>Puts trace data to MinkeLite DB and returns {Boolean} where true = the post request succeeded</p>

<ul>
<li>
<code>version</code> {String} tracer version such as "1.2.2"</li>
<li>
<code>act</code> {String} same as HTTP API parameter: act</li>
<li>
<code>trace</code> {Object} trace JSON object</li>
<li>
<code>callback</code> {Function} Calleld with {Boolean} where false = the post request succeeded</li>
</ul>

<h3>
<a id="mlgetexpressapp" class="anchor" href="#mlgetexpressapp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.getExpressApp()</h3>

<p>Returns an Express app of the MinkeLite instance.  Clients should start it.</p>

<h3>
<a id="mlstartserver" class="anchor" href="#mlstartserver" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.startServer()</h3>

<p>Starts the Express app of the MinkeLite instance</p>

<h3>
<a id="mlshutdowncallback" class="anchor" href="#mlshutdowncallback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ml.shutdown(callback)</h3>

<p>Shutdown the handles created for the MinkeLite instance</p>

<ul>
<li>
<code>callback</code> {Function} Called with error</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/strongloop/minkelite">Minkelite</a> is maintained by <a href="https://github.com/strongloop">strongloop</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
